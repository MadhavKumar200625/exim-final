{"version":3,"sources":["../../../../../../../../Developer/freelance/exim/exim/app/global-companies-list/Hero.js/__nextjs-internal-proxy.mjs","../../../../../../../../Developer/freelance/exim/exim/app/global-companies-list/Companies.js/__nextjs-internal-proxy.mjs","../../../../../../../../Developer/freelance/exim/exim/app/global-companies-list/%5Bcountry%5D/%5Bpage%5D/page.js","../../../../../../../../Developer/freelance/exim/exim/lib/companies/getCompaniesList.js"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Developer/freelance/exim/exim/app/global-companies-list/Hero.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Developer/freelance/exim/exim/app/global-companies-list/Hero.js\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Developer/freelance/exim/exim/app/global-companies-list/Companies.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Developer/freelance/exim/exim/app/global-companies-list/Companies.js\",\n    \"default\",\n);\n","import Hero from \"@/app/global-companies-list/Hero\";\nimport Companies from \"@/app/global-companies-list/Companies\";\nimport { getCompaniesList } from \"@/lib/companies/getCompaniesList\";\n\n// export const dynamic = \"force-static\";\nexport const revalidate = 86400;\n\nfunction cap(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nfunction capWords(str) {\n  return str.replace(/_/g, \" \").split(\" \").map(cap).join(\" \");\n}\n\nexport async function generateMetadata({ params }) {\n  const { country, page } = await params;\n  const name = capWords(country);\n\n  return {\n    title: `${name} Import Export Companies List | Exim Trade Data`,\n    description: `Browse verified ${name} companies, buyers and suppliers with shipment history.`,\n    alternates: {\n      canonical: `https://eximtradedata.com/global-companies-list/${country}/${page}`,\n    },\n  };\n}\n\nexport default async function Page({ params }) {\n  const { country, page } = await params;\n\n  const data = await getCompaniesList({ country, page });\n\n  return (\n    <main>\n      <Hero\n        heading={`${capWords(country)} Companies List`}\n        subHeading={`Verified ${capWords(country)} buyers and suppliers directory`}\n      />\n\n      <Companies\n        defaultCountry={country}\n        defaultLetter={page.split(\"-\")[0]}\n        companies={data.companies}\n        totalValues={data.totalValues}\n        currentPage={Number(page.split(\"-\")[1])}\n      />\n    </main>\n  );\n}","import redis from \"@/lib/redis\";\n\nconst API_URL = \"http://103.30.72.94:8012/companyDistinctCount\";\nconst AUTH = \"Basic YWJjOmFiY0AxMjM=\";\nconst TTL = 60 * 60 * 24 * 15; // 15 days\n\nconst list = \"argentina,bangladesh,bolivia,botswana,burundi,cameroon,chile,colombia,costa_rica,cote_d_ivoire,dr_congo,ecuador,ethiopia,fiji,ghana,guatemala,guyana,india,indonesia,kazakhstan,kenya,kosovo,lesotho,liberia,malawi,mexico,moldova,nicaragua,nigeria,pakistan,panama,paraguay,peru,philippines,russia,rwanda,sao_tome_and_principe,sierra_leone,singapore,sri_lanka,tanzania,turkey,uganda,ukraine,uruguay,uzbekistan,venezuela,vietnam,zambia,zimbabwe\"\nconst CUSTOMS_COUNTRIES = new Set(list.split(\",\"));\n\n\nexport async function getCompaniesList({ country, page }) {\n  const cacheKey = `company-list:${country}:${page}`;\n\n  /* ---------- Redis HIT ---------- */\n  try {\n    const cached = await redis.get(cacheKey);\n    if (cached) return JSON.parse(cached);\n  } catch {}\n\n  const [letter, pageNo] = page.split(\"-\");\n  const pageNum = Number(pageNo) || 1;\n\n  const source = CUSTOMS_COUNTRIES.has(country)\n    ? country\n    : \"all\";\n\n  const payload = {\n    source,\n    type: \"master\",\n    country_name: country,\n    company_start_from: letter.toUpperCase(),\n    from_: (pageNum - 1) * 100 + 1,\n    to: pageNum * 100,\n  };\n\n  try {\n    const res = await fetch(API_URL, {\n      method: \"POST\",\n      headers: {\n        Authorization: AUTH,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(payload),\n      cache: \"no-store\",\n    });\n\n    const json = await res.json().catch(() => ({}));\n    const block = json?.data?.[0] ?? {};\n\n    const response = {\n      defaultLetter: letter.toUpperCase(),\n      totalValues: Number(block[\"Total Count\"]) || 0,\n      companies: Array.isArray(block.Company)\n        ? block.Company.map(c => c.Name?.trim())\n        : [],\n      page: pageNum,\n    };\n\n    redis.set(cacheKey, JSON.stringify(response), \"EX\", TTL).catch(() => {});\n    return response;\n\n  } catch {\n    return {\n      defaultLetter: letter.toUpperCase(),\n      totalValues: 0,\n      companies: [],\n      page: pageNum,\n    };\n  }\n}"],"names":[],"mappings":"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","ignoreList":[0,1]}