{"version":3,"sources":["../../../../../../../../Developer/freelance/exim/exim/app/ports-data/%5Bcountry%5D/%5Bcode%5D/MainSection.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { useRouter } from \"next/navigation\";\nimport React from \"react\";\n\nconst MainSection = ({ heading, subheading, data, totalValues , letter , pg}) => {\n  const router = useRouter();\n  const cardsPerPage = 8; \n  const totalPages = Math.ceil(totalValues / cardsPerPage);\n\n  const [page, setPage] = useState(pg);\n  const [selectedLetter, setSelectedLetter] = useState(letter);\n\n  // Counter function\n  const runCounter = (id, target) => {\n    let count = 0;\n    const step = Math.ceil(target / 120);\n    const el = document.getElementById(id);\n\n    const timer = setInterval(() => {\n      count += step;\n      if (count >= target) {\n        count = target;\n        clearInterval(timer);\n      }\n      if (el) el.innerText = count.toLocaleString();\n    }, 20);\n  };\n\n  useEffect(() => {\n    data.forEach((item, i) => {\n      runCounter(`exporter-${i}`, item.exporter);\n      runCounter(`ex_total-${i}`, item.ex_total_shipment);\n      runCounter(`importer-${i}`, item.importer);\n      runCounter(`im_total-${i}`, item.im_total_shipment);\n    });\n  }, [data]);\n\n  // Handle select change\n  const handleSelect = (e) => {\n    const letter = e.target.value;\n    setSelectedLetter(selectedLetter);\n    router.push(`/ports-data/${heading}/${letter.toLowerCase()}-1`);\n  };\n\n  // Handle page change\n  const handlePageChange = (p) => {\n    setPage(p);\n    router.push(`/ports-data/${heading}/${selectedLetter.toLowerCase()}-${p}`);\n  };\n\n  const getPagination = () => {\n    let pages = [];\n    if (totalPages <= 5) {\n      for (let i = 1; i <= totalPages; i++) pages.push(i);\n    } else {\n      if (page <= 3) {\n        pages = [1, 2, 3, 4, \"...\", totalPages];\n      } else if (page >= totalPages - 2) {\n        pages = [1, \"...\", totalPages - 3, totalPages - 2, totalPages - 1, totalPages];\n      } else {\n        pages = [1, \"...\", page - 1, page, page + 1, \"...\", totalPages];\n      }\n    }\n    return pages;\n  };\n\n  return (\n    <section className=\"py-16 bg-slate-100 text-slate-900\">\n      <div className=\"max-w-7xl mx-auto px-6 text-center\">\n        \n        {/* Heading */}\n        <motion.h2\n          initial={{ opacity: 0, y: -40 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          className=\"text-3xl md:text-4xl font-bold tracking-tight text-black\"\n        >\n          Search Port Data of {heading} Sea Ports\n        </motion.h2>\n\n        <motion.p\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{  duration: 0.6 }}\n          className=\"mt-4 text-lg md:text-xl text-slate-600\"\n        >\n          Export Import Port Data {subheading}\n        </motion.p>\n\n        {/* Letter Select */}\n        <div className=\"mt-8\">\n          <select\n            value={selectedLetter}\n            onChange={handleSelect}\n            className=\"px-30 py-2 rounded-lg border border-slate-300 bg-white text-slate-800 focus:ring-2 focus:ring-blue-500\"\n          >\n            {\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split(\"\").map((letter) => (\n              <option key={letter} value={letter}>\n                {letter}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Cards */}\n        <div className=\"mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n          {data.map((item, i) => (\n            <motion.div\n              key={i}\n              onClick={() => router.push( `/global-ports/${ heading.toLowerCase().trim().replaceAll(\" \", \"-\")}/port-${ item.Port.toLowerCase().trim().replaceAll(\" \", \"-\")}`) }\n            \n              initial={{ opacity: 0, scale: 0.9 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ duration: 0.5 }}\n              whileHover={{ scale: 1.05 }}\n              className=\"cursor-pointer p-6 rounded-2xl bg-white shadow-lg border border-slate-200 group transition-colors duration-300\"\n            >\n              <h3 className=\"text-xl font-semibold mb-4 group-hover:text-blue-600 transition-colors\">\n                {item.Port} Port\n              </h3>\n              <div className=\"space-y-2 text-left text-slate-700\">\n                <p>\n                  Exporter:{\" \"}\n                  <span id={`exporter-${i}`} className=\"font-bold text-blue-600\">\n                    0\n                  </span>\n                </p>\n                <p>\n                  Total Exports:{\" \"}\n                  <span id={`ex_total-${i}`} className=\"font-bold text-blue-600\">\n                    0\n                  </span>\n                </p>\n                <p>\n                  Importer:{\" \"}\n                  <span id={`importer-${i}`} className=\"font-bold text-blue-600\">\n                    0\n                  </span>\n                </p>\n                <p>\n                  Total Imports:{\" \"}\n                  <span id={`im_total-${i}`} className=\"font-bold text-blue-600\">\n                    0\n                  </span>\n                </p>\n              </div>\n            </motion.div>\n          ))}\n        </div>\n\n        {/* Pagination */}\n        <div className=\"mt-12 flex justify-center items-center gap-2\">\n          {getPagination().map((p, i) =>\n            p === \"...\" ? (\n              <span key={i} className=\" py-2 text-slate-500\">\n                ...\n              </span>\n            ) : (\n              <button\n                key={i}\n                onClick={() => handlePageChange(p)}\n                className={`px-4 py-2 cursor-pointer rounded-lg ${\n                  p === page\n                    ? \"bg-blue-600 text-white\"\n                    : \"bg-slate-200 text-slate-700 hover:bg-slate-300\"\n                } transition`}\n              >\n                {p}\n              </button>\n            )\n          )}\n          <button\n            onClick={() => handlePageChange(page + 1 <= totalPages ? page + 1 : totalPages)}\n            className=\"px-4 py-2 cursor-pointer rounded-lg bg-slate-200 text-slate-700 hover:bg-slate-300 transition\"\n          >\n            &raquo;\n          </button>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default MainSection;"],"names":[],"mappings":"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"}