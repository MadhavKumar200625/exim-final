module.exports=[51615,(a,b,c)=>{b.exports=a.x("node:buffer",()=>require("node:buffer"))},50227,(a,b,c)=>{b.exports=a.x("node:path",()=>require("node:path"))},2157,(a,b,c)=>{b.exports=a.x("node:fs",()=>require("node:fs"))},84197,a=>{"use strict";let b,c,d,e;var f=a.i(59639),g=a.i(51615),h=a.i(50227),i=a.i(57764),j=a.i(12057),k=a.i(74533),l=a.i(12714),m=a.i(60526),n=a.i(2157);function o(){return void 0===c&&(c=(()=>{try{return n.default.statSync("/run/.containerenv"),!0}catch{return!1}})()||(void 0===b&&(b=function(){try{return n.default.statSync("/.dockerenv"),!0}catch{return!1}}()||function(){try{return n.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}()),b)),c}let p=()=>{if("linux"!==f.default.platform)return!1;if(m.default.release().toLowerCase().includes("microsoft"))return!o();try{return!!n.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!o()}catch{return!1}},q=f.default.env.__IS_WSL_TEST__?p:p(),r=(e="/mnt/",async function(){if(d)return d;let a="/etc/wsl.conf",b=!1;try{await l.default.access(a,l.constants.F_OK),b=!0}catch{}if(!b)return e;let c=await l.default.readFile(a,{encoding:"utf8"}),f=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(c);return f?d=(d=f.groups.mountPoint.trim()).endsWith("/")?d:`${d}/`:e}),s=async()=>{let a=await r();return`${a}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`},t=async()=>q?s():`${f.default.env.SYSTEMROOT||f.default.env.windir||String.raw`C:\Windows`}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`;function u(a,b,c){let d=c=>Object.defineProperty(a,b,{value:c,enumerable:!0,writable:!0});return Object.defineProperty(a,b,{configurable:!0,enumerable:!0,get(){let a=c();return d(a),a},set(a){d(a)}}),a}let v=(0,j.promisify)(k.execFile);async function w(){if("darwin"!==f.default.platform)throw Error("macOS only");let{stdout:a}=await v("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]),b=/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(a),c=b?.groups.id??"com.apple.Safari";return"com.apple.safari"===c?"com.apple.Safari":c}let x=(0,j.promisify)(k.execFile);async function y(a,{humanReadableOutput:b=!0,signal:c}={}){if("darwin"!==f.default.platform)throw Error("macOS only");let d={};c&&(d.signal=c);let{stdout:e}=await x("osascript",["-e",a,b?[]:["-ss"]],d);return e.trim()}async function z(a){return y(`tell application "Finder" to set app_path to application file id "${a}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}let A=(0,j.promisify)(k.execFile),B={MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},MSEdgeBHTML:{name:"Edge Beta",id:"com.microsoft.edge.beta"},MSEdgeDHTML:{name:"Edge Dev",id:"com.microsoft.edge.dev"},AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},ChromeBHTML:{name:"Chrome Beta",id:"com.google.chrome.beta"},ChromeDHTML:{name:"Chrome Dev",id:"com.google.chrome.dev"},ChromiumHTM:{name:"Chromium",id:"org.chromium.Chromium"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveDHTML:{name:"Brave Dev",id:"com.brave.Browser.dev"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},OperaStable:{name:"Opera",id:"com.operasoftware.Opera"},VivaldiHTM:{name:"Vivaldi",id:"com.vivaldi.Vivaldi"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"}};Object.entries(B);class C extends Error{}async function D(a=A){let{stdout:b}=await a("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),c=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(b);if(!c)throw new C(`Cannot find Windows browser in stdout: ${JSON.stringify(b)}`);let{id:d}=c.groups,e=B[d];if(!e)throw new C(`Unknown browser ID: ${d}`);return e}let E=(0,j.promisify)(k.execFile);async function F(){if("darwin"===f.default.platform){let a=await w();return{name:await z(a),id:a}}if("linux"===f.default.platform){let{stdout:a}=await E("xdg-mime",["query","default","x-scheme-handler/http"]),b=a.trim();return{name:b.replace(/.desktop$/,"").replace("-"," ").toLowerCase().replaceAll(/(?:^|\s|-)\S/g,a=>a.toUpperCase()),id:b}}if("win32"===f.default.platform)return D();throw Error("Only macOS, Linux, and Windows are supported")}let G=(0,j.promisify)(k.default.execFile),H=h.default.dirname((0,i.fileURLToPath)({get url(){return`file://${a.P("Developer/freelance/exim/exim/node_modules/open/index.js")}`}}.url)),I=h.default.join(H,"xdg-open"),{platform:J,arch:K}=f.default;async function L(){let a=await t(),b=String.raw`(Get-ItemProperty -Path "HKCU:\Software\Microsoft\Windows\Shell\Associations\UrlAssociations\http\UserChoice").ProgId`,c=g.Buffer.from(b,"utf16le").toString("base64"),{stdout:d}=await G(a,["-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand",c],{encoding:"utf8"}),e=d.trim(),f={ChromeHTML:"com.google.chrome",BraveHTML:"com.brave.Browser",MSEdgeHTM:"com.microsoft.edge",FirefoxURL:"org.mozilla.firefox"};return f[e]?{id:f[e]}:{}}let M=async(a,b)=>{let c;for(let d of a)try{return await b(d)}catch(a){c=a}throw c},N=async a=>{let b;if(Array.isArray((a={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...a}).app))return M(a.app,b=>N({...a,app:b}));let{name:c,arguments:d=[]}=a.app??{};if(d=[...d],Array.isArray(c))return M(c,b=>N({...a,app:{name:b,arguments:d}}));if("browser"===c||"browserPrivate"===c){let b={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","com.brave.Browser":"brave","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},e=q?await L():await F();if(e.id in b){let f=b[e.id];return"browserPrivate"===c&&d.push({chrome:"--incognito",brave:"--incognito",firefox:"--private-window",edge:"--inPrivate"}[f]),N({...a,app:{name:Q[f],arguments:d}})}throw Error(`${e.name} is not supported as a default browser`)}let e=[],h={};if("darwin"===J)b="open",a.wait&&e.push("--wait-apps"),a.background&&e.push("--background"),a.newInstance&&e.push("--new"),c&&e.push("-a",c);else if("win32"!==J&&(!q||o()||c)){if(c)b=c;else{let a=!1;try{await l.default.access(I,l.constants.X_OK),a=!0}catch{}b=f.default.versions.electron??("android"===J||!H||"/"===H||!a)?"xdg-open":I}d.length>0&&e.push(...d),a.wait||(h.stdio="ignore",h.detached=!0)}else{b=await t(),e.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),q||(h.windowsVerbatimArguments=!0);let f=["Start"];a.wait&&f.push("-Wait"),c?(f.push(`"\`"${c}\`""`),a.target&&d.push(a.target)):a.target&&f.push(`"${a.target}"`),d.length>0&&f.push("-ArgumentList",(d=d.map(a=>`"\`"${a}\`""`)).join(",")),a.target=g.Buffer.from(f.join(" "),"utf16le").toString("base64")}"darwin"===J&&d.length>0&&e.push("--args",...d),a.target&&e.push(a.target);let i=k.default.spawn(b,e,h);return a.wait?new Promise((b,c)=>{i.once("error",c),i.once("close",d=>{!a.allowNonzeroExitCode&&d>0?c(Error(`Exited with code ${d}`)):b(i)})}):(i.unref(),i)};function O(a){if("string"==typeof a||Array.isArray(a))return a;let{[K]:b}=a;if(!b)throw Error(`${K} is not supported`);return b}function P({[J]:a},{wsl:b}){if(b&&q)return O(b);if(!a)throw Error(`${J} is not supported`);return O(a)}let Q={};u(Q,"chrome",()=>P({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}})),u(Q,"brave",()=>P({darwin:"brave browser",win32:"brave",linux:["brave-browser","brave"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe",x64:["/mnt/c/Program Files/BraveSoftware/Brave-Browser/Application/brave.exe","/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe"]}})),u(Q,"firefox",()=>P({darwin:"firefox",win32:String.raw`C:\Program Files\Mozilla Firefox\firefox.exe`,linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"})),u(Q,"edge",()=>P({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"})),u(Q,"browser",()=>"browser"),u(Q,"browserPrivate",()=>"browserPrivate"),a.s(["apps",0,Q,"default",0,(a,b)=>{if("string"!=typeof a)throw TypeError("Expected a `target`");return N({...b,target:a})},"openApp",0,(a,b)=>{if("string"!=typeof a&&!Array.isArray(a))throw TypeError("Expected a valid `name`");let{arguments:c=[]}=b??{};if(null!=c&&!Array.isArray(c))throw TypeError("Expected `appArguments` as Array type");return N({...b,app:{name:a,arguments:c}})}],84197)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__81f6e0fc._.js.map